## 06-8 CLOCKSYNC

### 문제 : 시계 맞추기 (문제 ID : CLOCKSYNC)

> 그림과 같이 4 x 4 개의 격자 형태로 배치된 16개의 시계가 있다. 이 시계들은 모두 12시, 3시, 6시, 혹은 9시를 가리키고 있다. 이 시계들이 모두 12시를 가리키도록 바꾸고 싶다.
>
> 시계의 시간을 조작하는 유일한 방법은 모두 10개 있는 스위치들을 조작하는 것으로, 각 스위치들은 모두 적게는 3개에서 많게는 5개의 시계에 연결되어 있다. 한 스위치를 누를 때마다, 해당 스위치와 연결된 시계들의 시간은 3시간씩 앞으로 움직인다. 스위치들과 그들이 연결된 시계들의 목록은 다음과 같다.
>
> | 스위치 번호 |     연결된 시계들     | 스위치 번호 |     연결된 시계들     |
> | :----: | :-------------: | :----: | :-------------: |
> |   0    |     0, 1, 2     |   5    |  0, 2, 14, 15   |
> |   1    |   3, 7, 9, 11   |   6    |    3, 14, 15    |
> |   2    |  4, 10, 14, 15  |   7    | 4, 5, 7, 14, 15 |
> |   3    |  0, 4, 5, 6, 7  |   8    |  1, 2, 3, 4, 5  |
> |   4    | 6, 7, 8, 10, 12 |   9    | 3, 4, 5, 9, 13  |
>
> 시계들은 맨 윗줄부터, 왼쪽에서 오른쪽으로 순서대로 번호가 매겨졌다고 가정하자. 시계들이 현재 가리키는 시간들이 주어졌을 때, 모든 시계를 12시로 돌리기 위해 최소한 눌러야 할 스위치의 수를 계산하는 프로그램을 작성하시오.

- **문제 변형하기**
  - 스위치를 누르는 순서는 중요하지 않음
  - 어떤 스위치를 네 번 누르면 연결된 시계는 모두 12시간씩 앞으로 이동하기 때문에 하나도 누르지 않은 것과 다름 없음 
    - 따라서, 어떤 스위치건 간에 최대 세 번 이상 누를 일이 없음 

- **완전 탐색 구현하기**

  ```java
  /**
   * 
   * @param clocks : 현재 시계들의 상태    
   * @param swtch : 이번에 누를 스위치의 번호      
   * @return : 남은 스위치들을 눌러서 clocks를 12시로 맞출 수 있는 최소 횟수를 반환 
   * 만약 불가능 하다면 MAX_VALUE 이상의 큰 수를 반환한다.     
   */
  static int solve(int[] clocks, int swtch) {
  	if (swtch == SWITCHES) {
  		return areAligned(clocks) ? 0 : Integer.MAX_VALUE;
  	}

  	// 이 스위치를 0번 누르는 경우부터 3번 누르는 경우까지를 모두 시도한다.
  	int ret = Integer.MAX_VALUE;
  	for (int cnt = 0; cnt < 4; cnt++) {
  		ret = Math.min(ret, cnt + solve(clocks, swtch + 1));
  		push(clocks, swtch);
  	}

  	// push(clocks, swtch)가 네 번 호출되었으니 clocks는 원래와 같은 상태가 된다.
  	return ret;
  }
  ```

  ​

