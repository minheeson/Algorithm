## 03 Coding & Debugging

#### 좋은 코드를 짜기 위한 원칙

- 간결한 코드 작성
  - 전역 변수를 많이 사용하면 프로그램의 흐름을 파악하기 어려워짐
- 적극적으로 코드 재사용 (모듈화)
- 표준 라이브러리 공부
- 일관적이고 명료한 명명법 사용
- 모든 자료를 정규화해서 저장
  - 입력받는 유리수는 항상 약분해 기약 분수로 표현 
  - x 축과 점 (x,y) 사이의 각도를 한 가지로 정의
- 코드와 데이터를 분리



#### 자주하는 실수

- 산술 오버플로
- 배열 범위 밖 원소 접근
- 일관되지 않은 범위 표현 방식 사용
  - 어떤 자연수 범위 [2, 3, 4, 5, 6, 7, 8] 를 프로그램 내에서 표현하고 싶을 때
    - 닫힌 구간 [2, 12]
    - 열린 구간 (1, 13)
  - 닫힌 구간의 문제 : 공집합을 우아하게 표현할 수 있는 방법이 없음
    - a>b인 [a, b] : 직관적이지 않음 
  - 열린 구간의 문제 : 배열의 첫 번째 원소부터 시작하는 범위를 표현하고 싶을 때, 첫 번째 원소 이전에 존재하는 가상의 원소를 사용해야 함 
  - 따라서, 프로그래밍 언어는 __반 열린 구간__을 사용
    - [lo, hi)는 lo, lo+1, …, hi-2, hi-1을 포함
    - 대부분의 언어에서 n개의 원소를 갖는 배열 a의 첫 번째 원소는 a[0], 마지막 원소는 a[n-1]
    - 자바의 _SortedSet_ 인터페이스는 범위를 _fromElement_와 _toElement_로 전달받는데, _fromElement_는 범위에 포함되지마 _toElement_는 포함되지 않음 
  - 반 열린 구간의 장점
    - 공집합 표현 가능 : [2, 2)는 2<=i<2인 모든 i를 포함
    - 두 구간이 연속해 있는지를 쉽게 알 수 있음
      - [a, b)와 [c, d)가 있을 때, b=c 혹은 a=d 확인
    - 구간의 크기를 쉽게 알 수 있음 : [a, b) 구간의 크기는 b-a
- Off-by-one 오류 
  - 계산의 큰 줄기는 맞지만 하나가 모자라거나 하나가 많아서 틀리는 코드의 오류
- 최소, 최대 예외 잘못 다루기
- 변수 초기화 문제



#### 디버깅과 테스팅

- 디버깅
  - 작은 입력에 대해 제대로 실행되나 확인
  - 단정문(assertion) 사용
    - 단정문 : 주어진 조건이 거짓일 때 오류를 내고 프로그램을 강제 종료시키는 함수 또는 구문을 의미함
  - 프로그램의 계산 중간 결과를 출력 
- 테스트
  - 스캐폴딩(scaffolding) 기법 : 개발할 때 뼈대를 잡기 위해 임시로 사용하는 코드 
    - 코드의 정당성을 확인하거나 반례를 찾는데 유용하게 쓰임
    - 입력을 하나하나 넣어가며 잘못 동작하는 입력을 찾아낼 수도 있지만, 임의의 입력을 만들어 사용 



#### 변수 범위의 이해

- 산술 오버플로 : 어떤 식의 계산 값이 반환되는 자료형의 표현 가능한 범위를 벗어나는 경우 
- 자료형의 프로모션
  - 프로모션 : 피연산자의 자료형이 다르거나 자료형의 범위가 너무 작은 경우 컴파일러들은 대개 이들을 같은 자료형으로 변환해서 계산함

#### 실수 자료형의 이해 

- 실수와 근사 값 : 컴퓨터의 모든 실수 변수는 정확도가 제한된 근사 값을 저장함 
- IEEE 754 표준 
  - 이진수로 실수를 표기
  - 부동 소수점 표기법
  - 무한대, 비정규 수(subnormal number), Nan(Not a Number) 등의 특수한 값이 존재 